<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.20/lodash.min.js"></script>

</head>
<style>
    .red {
        color: tomato;
    }

    .container {
        display: flex;
        flex-direction: column;
        width: 30%;
        align-items: flex-start;

    }
</style>

<body>
    <span></span>
    <div style="display: flex;"><div class="container">
        <input type="text" name="" id="ara">
        <button class="btn btn-secondary">ARA</button>

        <input type="text" name="" id="ece">
        <button class="btn btn-primary">GEL</button></div>

    </div>
    <div>
        <table class="table table-borderless">
            <thead>
                <tr>
                    <th scope="col">id</th>
                    <th scope="col">User ID</th>
                    <th id="baslik" scope="col">Title</th>
                    <th scope="col">Completed</th>
                </tr>
            </thead>
            <tbody>

                <!-- <tr>
                <th scope="row">3</th>
                <td colspan="2">dldjasdjdjasdjjasdj</td>
                <td></td>
              </tr> -->
            </tbody>
        </table>
    </div>

</body>

</html>
<script>
    var url = "https://jsonplaceholder.typicode.com/todos"
    fetch(url)
        .then((res) => res.json())
        .then((data) => {
            data.forEach(element => {
                
                if (element.completed == false) {
                    $("tbody").append(`
                    <tr class="red">
                    <td>`+ element.id + `</td>
                    <td>`+ element.userId + `</td>
                    <td>`+ element.title + `</td>
                    <td>`+ element.completed + `</td>
                    </tr>
                 `)
                

                }

                else {
                    $("tbody").append(`
                    <tr>
                    <td>`+ element.id + `</td>
                    <td>`+ element.userId + `</td>
                    <td>`+ element.title + `</td>
                    <td>`+ element.completed + `</td>
                    </tr>
                 `)
                }
                // $("span").html(data.length)

            });

            $(document).on("click", ".btn-primary", function () {
                var sayi = $("#ece").val()
                $("tbody tr").remove()

                for (i = 0; i < sayi; i++) {
                    if (data[i].completed == false) {
                        $("tbody").append(`
                    <tr class="red">
                    <td>`+ data[i].id + `</td>
                    <td>`+ data[i].userId + `</td>
                    <td>`+ data[i].title + `</td>
                    <td>`+ data[i].completed + `</td>
                    </tr>
                 `)

                    }
                    else {
                        $("tbody").append(`
                    <tr>
                    <td>`+ data[i].id + `</td>
                    <td>`+ data[i].userId + `</td>
                    <td>`+ data[i].title + `</td>
                    <td>`+ data[i].completed + `</td>
                    </tr>
                 `)
                    }
                    // $("span").html(sayi)

                }
            })
            $(document).on("click", ".btn-secondary", function () {
                var yazi = $("#ara").val()
                $("tbody tr").remove()
                var sayac = 0;
                data.forEach(element => {
                    
                    if (element.title.includes(yazi)) {
                        sayac++


                        if (element.completed == false) {
                            $("tbody").append(`
                            <tr class="red">
                            <td>`+ element.id + `</td>
                            <td>`+ element.userId + `</td>
                            <td>`+ element.title + `</td>
                            <td>`+ element.completed + `</td>
                            </tr>
                            `)

                        }
                        else {
                            $("tbody").append(`
                            <tr>
                            <td>`+ element.id + `</td>
                            <td>`+ element.userId + `</td>
                            <td>`+ element.title + `</td>
                            <td>`+ element.completed + `</td>
                            </tr>
                            `)
                        }


                    }

                    $("span").html(sayac)

                })

            })

            $(document).on("click", "#baslik", function () {
                var orderdata = _.orderBy(data, ['title'], ['asc']);
                $("tbody tr").remove()
                orderdata.forEach(element => {
                    $("tbody").append(`
                    <tr >
                    <td>`+ element.id + `</td>
                    <td>`+ element.userId + `</td>
                    <td>`+ element.title + `</td>
                    <td>`+ element.completed + `</td>
                    </tr>
                 `)
                })
                
                
                })
        })


           


    // // $(document).on("click", "#baslik", function () {
    //     // fetch(url)
    //     //     .then((res) => res.json())
    //     //     .then((data) => {
    //             var orderdata = _.orderBy(data, ['title'], ['desc']);
    //             orderdata.forEach(item  => {
    //                 $("tbody").append(`
    //                 <tr class="red">
    //                 <td>`+ element.id + `</td>
    //                 <td>`+ element.userId + `</td>
    //                 <td>`+ element.title + `</td>
    //                 <td>`+ element.completed + `</td>
    //                 </tr>
    //              `)






</script>